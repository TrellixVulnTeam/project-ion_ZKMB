<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>APM:Libraries: libraries/AP_Airspeed/AP_Airspeed.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_f0f1373a5071732c20e016b31c47ef93.html">AP_Airspeed</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_Airspeed.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__Airspeed_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   APM_Airspeed.cpp - airspeed (pitot) driver</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__ADC_8h.html">AP_ADC/AP_ADC.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="I2CDevice_8h.html">AP_HAL/I2CDevice.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed_8h.html">AP_Airspeed.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a> &amp;<a class="code" href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">   34</a></span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_ANALOG</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">   35</a></span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_PIN 1</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_I2C_MS4525</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_PIN 15</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD_SUBTYPE == HAL_BOARD_SUBTYPE_LINUX_DISCO</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">   42</a></span>&#160;<span class="preprocessor">#define PSI_RANGE_DEFAULT 0.05</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifndef PSI_RANGE_DEFAULT</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define PSI_RANGE_DEFAULT 1.0f</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// table of user settable parameters</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a>[] = {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// @Param: TYPE</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// @DisplayName: Airspeed type</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// @Description: Type of airspeed sensor</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// @Values: 0:None,1:I2C-MS4525D0,2:Analog,3:I2C-MS5525</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, 0, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _type, <a class="code" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a>, <a class="code" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// @Param: USE</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// @DisplayName: Airspeed use</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// @Description: use airspeed for flight control</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// @Values: 1:Use,0:Don&#39;t Use</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;USE&quot;</span>,    1, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _use, 0),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// @Param: OFFSET</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// @DisplayName: Airspeed offset</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// @Description: Airspeed calibration offset</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;OFFSET&quot;</span>, 2, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _offset, 0),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// @Param: RATIO</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// @DisplayName: Airspeed ratio</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// @Description: Airspeed calibration ratio</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;RATIO&quot;</span>,  3, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _ratio, 1.9936<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// @Param: PIN</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// @DisplayName: Airspeed pin</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// @Description: The pin number that the airspeed sensor is connected to for analog sensors. Set to 15 on the Pixhawk for the analog airspeed port. </span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PIN&quot;</span>,  4, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _pin, <a class="code" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a>),</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// @Param: AUTOCAL</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// @DisplayName: Automatic airspeed ratio calibration</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// @Description: If this is enabled then the APM will automatically adjust the ARSPD_RATIO during flight, based upon an estimation filter using ground speed and true airspeed. The automatic calibration will save the new ratio to EEPROM every 2 minutes if it changes by more than 5%. This option should be enabled for a calibration flight then disabled again when calibration is complete. Leaving it enabled all the time is not recommended.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;AUTOCAL&quot;</span>,  5, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _autocal, 0),</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// @Param: TUBE_ORDER</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// @DisplayName: Control pitot tube order</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// @Description: This parameter allows you to control whether the order in which the tubes are attached to your pitot tube matters. If you set this to 0 then the top connector on the sensor needs to be the dynamic pressure. If set to 1 then the bottom connector needs to be the dynamic pressure. If set to 2 (the default) then the airspeed driver will accept either order. The reason you may wish to specify the order is it will allow your airspeed sensor to detect if the aircraft it receiving excessive pressure on the static port, which would otherwise be seen as a positive airspeed.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TUBE_ORDER&quot;</span>,  6, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _tube_order, 2),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// @Param: SKIP_CAL</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// @DisplayName: Skip airspeed calibration on startup</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// @Description: This parameter allows you to skip airspeed offset calibration on startup, instead using the offset from the last calibration. This may be desirable if the offset variance between flights for your sensor is low and you want to avoid having to cover the pitot tube on each boot.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// @Values: 0:Disable,1:Enable</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SKIP_CAL&quot;</span>,  7, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _skip_cal, 0),</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// @Param: PSI_RANGE</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// @DisplayName: The PSI range of the device</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// @Description: This parameter allows you to to set the PSI (pounds per square inch) range for your sensor. You should not change this unless you examine the datasheet for your device</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PSI_RANGE&quot;</span>,  8, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _psi_range, <a class="code" href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">PSI_RANGE_DEFAULT</a>),</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// @Param: BUS</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// @DisplayName: Airspeed I2C bus</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// @Description: The bus number of the I2C bus to look for the sensor on</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// @Values: 0:Bus0,1:Bus1</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;BUS&quot;</span>,  9, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _bus, 1),</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    </div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">  122</a></span>&#160;<a class="code" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a>()</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    : _EAS2TAS(1.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    , _calibration()</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">var_info</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">  this scaling factor converts from the old system where we used a</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">  0 to 4095 raw ADC value for 0-5V to the new system which gets the</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">  voltage in volts directly from the ADC driver</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#aac6646b1879de350161c105ea856c2c3">  135</a></span>&#160;<span class="preprocessor">#define SCALING_OLD_CALIBRATION 819 // 4095/5</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a>()</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// cope with upgrade from old system</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a19d760391443c037d3dd4adb15f5f0d6">_pin</a>.load() &amp;&amp; <a class="code" href="classAP__Airspeed.html#a19d760391443c037d3dd4adb15f5f0d6">_pin</a>.get() != 65) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="classAP__Airspeed.html#ae4cda8ff1bf93bb0a606a63382abad5e">_type</a>.set_default(<a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">TYPE_ANALOG</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classAP__Airspeed.html#a6e1b7c73582e515a7282a0f297e05b70">_last_pressure</a> = 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classAP__Airspeed.html#ae0ebf28753797b31424d47fcb4bbb7ad">_calibration</a>.<a class="code" href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">init</a>(<a class="code" href="classAP__Airspeed.html#a8ddf53eea1aafbacb8852ec4232fdb4c">_ratio</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classAP__Airspeed.html#a06db9eec95578c5ab1e0436cc1c89978">_last_saved_ratio</a> = <a class="code" href="classAP__Airspeed.html#a8ddf53eea1aafbacb8852ec4232fdb4c">_ratio</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classAP__Airspeed.html#ab366dce578d2e00e4df03da79b33d342">_counter</a> = 0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">airspeed_type</a>)<a class="code" href="classAP__Airspeed.html#ae4cda8ff1bf93bb0a606a63382abad5e">_type</a>.get()) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>:</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">// nothing to do</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">TYPE_I2C_MS4525</a>:</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a> = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">TYPE_ANALOG</a>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a> = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">TYPE_I2C_MS5525</a>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a> = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a> &amp;&amp; !<a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>-&gt;<a class="code" href="classAP__Airspeed__Backend.html#a7eb6ac6b2e7d860ad1e8a556c0b77701">init</a>()) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="classGCS__MAVLINK.html#ae1d5ebd46ec3ddb644862c747e2968bf">GCS_MAVLINK::send_statustext_all</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed init failed&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">// read the airspeed sensor</span></div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a2d265701a127bd336882e930cb996e86">  171</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Airspeed.html#a2d265701a127bd336882e930cb996e86">AP_Airspeed::get_pressure</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a4721e9a79d9611e1f693d4850c07edc0">enabled</a>()) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a16d64f470bc80c422d50563c2cc50356">_hil_set</a>) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">_healthy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Airspeed.html#a7be0c94bc7ed07d75c7ed668025680b2">_hil_pressure</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">float</span> pressure = 0;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">_healthy</a> = <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>-&gt;<a class="code" href="classAP__Airspeed__Backend.html#a13ffe36cf0a00f387172d7345a013980">get_differential_pressure</a>(pressure);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> pressure;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">// get a temperature reading if possible</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a0cb43b5b98b7b503b7e440a59b7ce3dd">  188</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Airspeed.html#a0cb43b5b98b7b503b7e440a59b7ce3dd">AP_Airspeed::get_temperature</a>(<span class="keywordtype">float</span> &amp;<a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a4721e9a79d9611e1f693d4850c07edc0">enabled</a>()) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">sensor</a>-&gt;<a class="code" href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">get_temperature</a>(temperature);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">// calibrate the airspeed. This must be called at least once before</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">// the get_airspeed() interface can be used</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a>(<span class="keywordtype">bool</span> in_startup)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a4721e9a79d9611e1f693d4850c07edc0">enabled</a>()) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (in_startup &amp;&amp; <a class="code" href="classAP__Airspeed.html#aecc773f64b964bbca0bf0c063526bb4c">_skip_cal</a>) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.start_ms = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.count = 0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.sum = 0;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.read_count = 0;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  update async airspeed calibration</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a1c80f3cc71861ab7b3ea235439746645">  218</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a>(<span class="keywordtype">float</span> raw_pressure)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// consider calibration complete when we have at least 15 samples</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// over at least 1 second</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.start_ms &gt;= 1000 &amp;&amp;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.read_count &gt; 15) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.count == 0) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="classGCS__MAVLINK.html#ae1d5ebd46ec3ddb644862c747e2968bf">GCS_MAVLINK::send_statustext_all</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed sensor unhealthy&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="classGCS__MAVLINK.html#ae1d5ebd46ec3ddb644862c747e2968bf">GCS_MAVLINK::send_statustext_all</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed sensor calibrated&quot;</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="classAP__Airspeed.html#a1aba51195abbe54bd7b9fb305cf9919c">_offset</a>.set_and_save(<a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.sum / <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.count);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.start_ms = 0;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// we discard the first 5 samples</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">_healthy</a> &amp;&amp; <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.read_count &gt; 5) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.sum += raw_pressure;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.count++;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.read_count++;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">// read the airspeed sensor</span></div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#af713d23fce3c9a5e78e043d4e3b2d012">  242</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#af713d23fce3c9a5e78e043d4e3b2d012">AP_Airspeed::read</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">float</span> airspeed_pressure;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a4721e9a79d9611e1f693d4850c07edc0">enabled</a>()) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">float</span> raw_pressure = <a class="code" href="classAP__Airspeed.html#a2d265701a127bd336882e930cb996e86">get_pressure</a>();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">_cal</a>.start_ms != 0) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">update_calibration</a>(raw_pressure);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    airspeed_pressure = raw_pressure - <a class="code" href="classAP__Airspeed.html#a1aba51195abbe54bd7b9fb305cf9919c">_offset</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// remember raw pressure for logging</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="classAP__Airspeed.html#afb5e74f17b8ec124d13902b1550775b3">_corrected_pressure</a> = airspeed_pressure;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">      we support different pitot tube setups so used can choose if</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">      they want to be able to detect pressure on the static port</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">pitot_tube_order</a>)<a class="code" href="classAP__Airspeed.html#a4bcea2107bba614056aa5540cbb9b703">_tube_order</a>.get()) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">PITOT_TUBE_ORDER_NEGATIVE</a>:</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        airspeed_pressure = -airspeed_pressure;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="comment">// no break</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">PITOT_TUBE_ORDER_POSITIVE</a>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (airspeed_pressure &lt; -32) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="comment">// we&#39;re reading more than about -8m/s. The user probably has</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="comment">// the ports the wrong way around</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">_healthy</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">PITOT_TUBE_ORDER_AUTO</a>:</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        airspeed_pressure = fabsf(airspeed_pressure);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    airspeed_pressure       = <a class="code" href="AP__Math_8h.html#a5c0b5c82749ac54970b2699d3c10ee9b">MAX</a>(airspeed_pressure, 0);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classAP__Airspeed.html#a6e1b7c73582e515a7282a0f297e05b70">_last_pressure</a>          = airspeed_pressure;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classAP__Airspeed.html#a0dffd6d7a421e1ca18b65a61425e3615">_raw_airspeed</a>           = sqrtf(airspeed_pressure * <a class="code" href="classAP__Airspeed.html#a8ddf53eea1aafbacb8852ec4232fdb4c">_ratio</a>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classAP__Airspeed.html#adec87c892a16dba00effa69746649f5a">_airspeed</a>               = 0.7f * <a class="code" href="classAP__Airspeed.html#adec87c892a16dba00effa69746649f5a">_airspeed</a>  +  0.3f * <a class="code" href="classAP__Airspeed.html#a0dffd6d7a421e1ca18b65a61425e3615">_raw_airspeed</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classAP__Airspeed.html#a9ab2dfed7cdd9488c7f92aef76eee7c8">_last_update_ms</a>         = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a5361b17790b2901baa4530a123851b3d">  285</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#ababe32518461dff35f1b544ea15a5a96">AP_Airspeed::setHIL</a>(<span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>, <span class="keywordtype">float</span> diff_pressure, <span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classAP__Airspeed.html#a0dffd6d7a421e1ca18b65a61425e3615">_raw_airspeed</a> = <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classAP__Airspeed.html#adec87c892a16dba00effa69746649f5a">_airspeed</a> = <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classAP__Airspeed.html#a6e1b7c73582e515a7282a0f297e05b70">_last_pressure</a> = diff_pressure;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classAP__Airspeed.html#a9ab2dfed7cdd9488c7f92aef76eee7c8">_last_update_ms</a> = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classAP__Airspeed.html#a7be0c94bc7ed07d75c7ed668025680b2">_hil_pressure</a> = diff_pressure;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classAP__Airspeed.html#a16d64f470bc80c422d50563c2cc50356">_hil_set</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">_healthy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="ttc" id="classAP__Airspeed_html"><div class="ttname"><a href="classAP__Airspeed.html">AP_Airspeed</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00032">AP_Airspeed.h:32</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ababe32518461dff35f1b544ea15a5a96"><div class="ttname"><a href="classAP__Airspeed.html#ababe32518461dff35f1b544ea15a5a96">AP_Airspeed::setHIL</a></div><div class="ttdeci">void setHIL(float pressure)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00132">AP_Airspeed.h:132</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">AP_Airspeed::pitot_tube_order</a></div><div class="ttdeci">pitot_tube_order</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00141">AP_Airspeed.h:141</a></div></div>
<div class="ttc" id="AP__Airspeed__MS5525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ac6be10dda7f4ce96b0e9fd6d30ea9c85"><div class="ttname"><a href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a></div><div class="ttdeci">void update_calibration(const Vector3f &amp;vground, int16_t max_airspeed_allowed_during_cal)</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed__Calibration_8cpp_source.html#l00113">Airspeed_Calibration.cpp:113</a></div></div>
<div class="ttc" id="AP__Airspeed_8h_html"><div class="ttname"><a href="AP__Airspeed_8h.html">AP_Airspeed.h</a></div></div>
<div class="ttc" id="AP__Param_8h_html_ae25c1c7495435989f8be5781c86be078"><div class="ttname"><a href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a></div><div class="ttdeci">#define AP_PARAM_FLAG_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00046">AP_Param.h:46</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_afb5e74f17b8ec124d13902b1550775b3"><div class="ttname"><a href="classAP__Airspeed.html#afb5e74f17b8ec124d13902b1550775b3">AP_Airspeed::_corrected_pressure</a></div><div class="ttdeci">float _corrected_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00166">AP_Airspeed.h:166</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a50e174cb461cfacc68b0cd79cf9e9cbd"><div class="ttname"><a href="classAP__Airspeed.html#a50e174cb461cfacc68b0cd79cf9e9cbd">AP_Airspeed::_cal</a></div><div class="ttdeci">struct AP_Airspeed::@5 _cal</div></div>
<div class="ttc" id="classGCS__MAVLINK_html_ae1d5ebd46ec3ddb644862c747e2968bf"><div class="ttname"><a href="classGCS__MAVLINK.html#ae1d5ebd46ec3ddb644862c747e2968bf">GCS_MAVLINK::send_statustext_all</a></div><div class="ttdeci">static void send_statustext_all(MAV_SEVERITY severity, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Common_8cpp_source.html#l01322">GCS_Common.cpp:1322</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a5c0b5c82749ac54970b2699d3c10ee9b"><div class="ttname"><a href="AP__Math_8h.html#a5c0b5c82749ac54970b2699d3c10ee9b">MAX</a></div><div class="ttdeci">static auto MAX(const A &amp;one, const B &amp;two) -&gt; decltype(one &gt; two?one:two)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00179">AP_Math.h:179</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_af399a129f73b4b75e7c453bdb51358a3"><div class="ttname"><a href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00139">AP_Airspeed.h:139</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a06db9eec95578c5ab1e0436cc1c89978"><div class="ttname"><a href="classAP__Airspeed.html#a06db9eec95578c5ab1e0436cc1c89978">AP_Airspeed::_last_saved_ratio</a></div><div class="ttdeci">float _last_saved_ratio</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00182">AP_Airspeed.h:182</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_abfe7ec310805e903423f16224cb980c6"><div class="ttname"><a href="classAP__Airspeed.html#abfe7ec310805e903423f16224cb980c6">AP_Airspeed::sensor</a></div><div class="ttdeci">AP_Airspeed_Backend * sensor</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00188">AP_Airspeed.h:188</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">AP_Airspeed::TYPE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00146">AP_Airspeed.h:146</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab3f44b666b8fd9389ea97a868139d1a7"><div class="ttname"><a href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a></div><div class="ttdeci">AP_Airspeed()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00122">AP_Airspeed.cpp:122</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a4721e9a79d9611e1f693d4850c07edc0"><div class="ttname"><a href="classAP__Airspeed.html#a4721e9a79d9611e1f693d4850c07edc0">AP_Airspeed::enabled</a></div><div class="ttdeci">bool enabled(void) const </div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00083">AP_Airspeed.h:83</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">AP_Airspeed::PITOT_TUBE_ORDER_NEGATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00142">AP_Airspeed.h:142</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a131dd3a1aba6cbae5d330c5161ccfe9e"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a></div><div class="ttdeci">#define ARSPD_DEFAULT_PIN</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00035">AP_Airspeed.cpp:35</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_adec87c892a16dba00effa69746649f5a"><div class="ttname"><a href="classAP__Airspeed.html#adec87c892a16dba00effa69746649f5a">AP_Airspeed::_airspeed</a></div><div class="ttdeci">float _airspeed</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00164">AP_Airspeed.h:164</a></div></div>
<div class="ttc" id="GCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System. </div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a9053ed1dcbc482203ed6f3331b373feb"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a></div><div class="ttdeci">#define ARSPD_DEFAULT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00034">AP_Airspeed.cpp:34</a></div></div>
<div class="ttc" id="AP__ADC_8h_html"><div class="ttname"><a href="AP__ADC_8h.html">AP_ADC.h</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00087">AP_Param.h:87</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a031d36bae57355f739b22328a0976880"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">PSI_RANGE_DEFAULT</a></div><div class="ttdeci">#define PSI_RANGE_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00042">AP_Airspeed.cpp:42</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">AP_Airspeed::PITOT_TUBE_ORDER_POSITIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00141">AP_Airspeed.h:141</a></div></div>
<div class="ttc" id="classAP__Airspeed__Backend_html_ab0e4ed6819fefd4da1c7a8e30a595186"><div class="ttname"><a href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">AP_Airspeed_Backend::get_temperature</a></div><div class="ttdeci">virtual bool get_temperature(float &amp;temperature)=0</div></div>
<div class="ttc" id="I2CDevice_8h_html"><div class="ttname"><a href="I2CDevice_8h.html">I2CDevice.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a8ddf53eea1aafbacb8852ec4232fdb4c"><div class="ttname"><a href="classAP__Airspeed.html#a8ddf53eea1aafbacb8852ec4232fdb4c">AP_Airspeed::_ratio</a></div><div class="ttdeci">AP_Float _ratio</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00154">AP_Airspeed.h:154</a></div></div>
<div class="ttc" id="classAirspeed__Calibration_html_ae88c0e8719c02f942e6cafeb7cf46d1e"><div class="ttname"><a href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">Airspeed_Calibration::init</a></div><div class="ttdeci">void init(float initial_ratio)</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed__Calibration_8cpp_source.html#l00031">Airspeed_Calibration.cpp:31</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_aecc773f64b964bbca0bf0c063526bb4c"><div class="ttname"><a href="classAP__Airspeed.html#aecc773f64b964bbca0bf0c063526bb4c">AP_Airspeed::_skip_cal</a></div><div class="ttdeci">AP_Int8 _skip_cal</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00162">AP_Airspeed.h:162</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a4bcea2107bba614056aa5540cbb9b703"><div class="ttname"><a href="classAP__Airspeed.html#a4bcea2107bba614056aa5540cbb9b703">AP_Airspeed::_tube_order</a></div><div class="ttdeci">AP_Int8 _tube_order</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00161">AP_Airspeed.h:161</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a1aba51195abbe54bd7b9fb305cf9919c"><div class="ttname"><a href="classAP__Airspeed.html#a1aba51195abbe54bd7b9fb305cf9919c">AP_Airspeed::_offset</a></div><div class="ttdeci">AP_Float _offset</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00153">AP_Airspeed.h:153</a></div></div>
<div class="ttc" id="AP__Airspeed__analog_8h_html"><div class="ttname"><a href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition:</b> <a href="AC__PID__test_8cpp_source.html#l00010">AC_PID_test.cpp:10</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS5525_html"><div class="ttname"><a href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00030">AP_Airspeed_MS5525.h:30</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS4525_html"><div class="ttname"><a href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS4525_8h_source.html#l00030">AP_Airspeed_MS4525.h:30</a></div></div>
<div class="ttc" id="Airspeed_8cpp_html_afc1d28cfbce795d6ea954ebe725241f5"><div class="ttname"><a href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00028">Airspeed.cpp:28</a></div></div>
<div class="ttc" id="AP__Param_8h_html_ac24e2eb16c2194e975d27e47ddcb7f1c"><div class="ttname"><a href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS(name, idx, clazz, element, def, flags)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00078">AP_Param.h:78</a></div></div>
<div class="ttc" id="AP__Airspeed__MS4525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a2d265701a127bd336882e930cb996e86"><div class="ttname"><a href="classAP__Airspeed.html#a2d265701a127bd336882e930cb996e86">AP_Airspeed::get_pressure</a></div><div class="ttdeci">float get_pressure(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00171">AP_Airspeed.cpp:171</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">AP_Airspeed::airspeed_type</a></div><div class="ttdeci">airspeed_type</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00145">AP_Airspeed.h:145</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">AP_Airspeed::PITOT_TUBE_ORDER_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00143">AP_Airspeed.h:143</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_af713d23fce3c9a5e78e043d4e3b2d012"><div class="ttname"><a href="classAP__Airspeed.html#af713d23fce3c9a5e78e043d4e3b2d012">AP_Airspeed::read</a></div><div class="ttdeci">void read(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00242">AP_Airspeed.cpp:242</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00018">HAL.h:18</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab366dce578d2e00e4df03da79b33d342"><div class="ttname"><a href="classAP__Airspeed.html#ab366dce578d2e00e4df03da79b33d342">AP_Airspeed::_counter</a></div><div class="ttdeci">uint8_t _counter</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00183">AP_Airspeed.h:183</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a6e1b7c73582e515a7282a0f297e05b70"><div class="ttname"><a href="classAP__Airspeed.html#a6e1b7c73582e515a7282a0f297e05b70">AP_Airspeed::_last_pressure</a></div><div class="ttdeci">float _last_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00165">AP_Airspeed.h:165</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a0dffd6d7a421e1ca18b65a61425e3615"><div class="ttname"><a href="classAP__Airspeed.html#a0dffd6d7a421e1ca18b65a61425e3615">AP_Airspeed::_raw_airspeed</a></div><div class="ttdeci">float _raw_airspeed</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00163">AP_Airspeed.h:163</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="classAP__Airspeed__Backend_html_a7eb6ac6b2e7d860ad1e8a556c0b77701"><div class="ttname"><a href="classAP__Airspeed__Backend.html#a7eb6ac6b2e7d860ad1e8a556c0b77701">AP_Airspeed_Backend::init</a></div><div class="ttdeci">virtual bool init(void)=0</div></div>
<div class="ttc" id="namespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition:</b> <a href="AP__HAL__Linux_2system_8cpp_source.html#l00043">system.cpp:43</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00126">AP_Param.h:126</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_afb7c91590b3efc00ee2d72cc6bcc856f"><div class="ttname"><a href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a></div><div class="ttdeci">void calibrate(bool in_startup)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00201">AP_Airspeed.cpp:201</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">AP_Airspeed::TYPE_I2C_MS4525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00147">AP_Airspeed.h:147</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a0cb43b5b98b7b503b7e440a59b7ce3dd"><div class="ttname"><a href="classAP__Airspeed.html#a0cb43b5b98b7b503b7e440a59b7ce3dd">AP_Airspeed::get_temperature</a></div><div class="ttdeci">bool get_temperature(float &amp;temperature)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00188">AP_Airspeed.cpp:188</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">AP_Airspeed::TYPE_I2C_MS5525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00149">AP_Airspeed.h:149</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a16d64f470bc80c422d50563c2cc50356"><div class="ttname"><a href="classAP__Airspeed.html#a16d64f470bc80c422d50563c2cc50356">AP_Airspeed::_hil_set</a></div><div class="ttdeci">bool _hil_set</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00169">AP_Airspeed.h:169</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a7499575104f24c6502e1148c353d9637"><div class="ttname"><a href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a></div><div class="ttdeci">void init(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00137">AP_Airspeed.cpp:137</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a163f7eabba221f84cab47b8bba1276a0"><div class="ttname"><a href="classAP__Airspeed.html#a163f7eabba221f84cab47b8bba1276a0">AP_Airspeed::_healthy</a></div><div class="ttdeci">bool _healthy</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00168">AP_Airspeed.h:168</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">AP_Airspeed::TYPE_ANALOG</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00148">AP_Airspeed.h:148</a></div></div>
<div class="ttc" id="AP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries. </div></div>
<div class="ttc" id="Airspeed_8cpp_html_abfed87a61c42e885ee14d5222b47583f"><div class="ttname"><a href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a></div><div class="ttdeci">AP_Airspeed airspeed</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00030">Airspeed.cpp:30</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a19d760391443c037d3dd4adb15f5f0d6"><div class="ttname"><a href="classAP__Airspeed.html#a19d760391443c037d3dd4adb15f5f0d6">AP_Airspeed::_pin</a></div><div class="ttdeci">AP_Int8 _pin</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00158">AP_Airspeed.h:158</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ae0ebf28753797b31424d47fcb4bbb7ad"><div class="ttname"><a href="classAP__Airspeed.html#ae0ebf28753797b31424d47fcb4bbb7ad">AP_Airspeed::_calibration</a></div><div class="ttdeci">Airspeed_Calibration _calibration</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00181">AP_Airspeed.h:181</a></div></div>
<div class="ttc" id="classAP__Airspeed__Backend_html_a13ffe36cf0a00f387172d7345a013980"><div class="ttname"><a href="classAP__Airspeed__Backend.html#a13ffe36cf0a00f387172d7345a013980">AP_Airspeed_Backend::get_differential_pressure</a></div><div class="ttdeci">virtual bool get_differential_pressure(float &amp;pressure)=0</div></div>
<div class="ttc" id="classAP__Airspeed_html_ae4cda8ff1bf93bb0a606a63382abad5e"><div class="ttname"><a href="classAP__Airspeed.html#ae4cda8ff1bf93bb0a606a63382abad5e">AP_Airspeed::_type</a></div><div class="ttdeci">AP_Int8 _type</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00157">AP_Airspeed.h:157</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a9ab2dfed7cdd9488c7f92aef76eee7c8"><div class="ttname"><a href="classAP__Airspeed.html#a9ab2dfed7cdd9488c7f92aef76eee7c8">AP_Airspeed::_last_update_ms</a></div><div class="ttdeci">uint32_t _last_update_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00171">AP_Airspeed.h:171</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00102">AP_Param.h:102</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a7be0c94bc7ed07d75c7ed668025680b2"><div class="ttname"><a href="classAP__Airspeed.html#a7be0c94bc7ed07d75c7ed668025680b2">AP_Airspeed::_hil_pressure</a></div><div class="ttdeci">float _hil_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00170">AP_Airspeed.h:170</a></div></div>
<div class="ttc" id="classAP__Airspeed__Analog_html"><div class="ttname"><a href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__analog_8h_source.html#l00008">AP_Airspeed_analog.h:8</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8cpp_source.html#l01195">AP_Param.cpp:1195</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 14 2017 11:51:10 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
